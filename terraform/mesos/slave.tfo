resource "google_compute_instance" "mesos-slave" {
    name = "mesos-slave"
    machine_type = "n1-standard-4"
    zone = "${var.zone}"
    tags = ["mesos-slave","http","https","ssh"]

    disk {
      image = "ubuntu-os-cloud/ubuntu-1404-trusty-v20150128"
      type = "pd-ssd"
    }

    network_interface {
      network = "${google_compute_network.mesos-net.name}"
      access_config {
        //Ephemeral IP
      }
    }

    provisioner "remote-exec" {
      scripts = ["../../scripts/slave_install.sh", "../../scripts/docker_install.sh" ]
      connection {
        user = "${var.gce_ssh_user}"
        key_file = "${var.gce_ssh_private_key_file}"
      }
    }


}